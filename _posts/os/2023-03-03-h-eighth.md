---
layout: single
title: "8장 가상 메모리"
categories: [OS]
last_modified_at: 2023-04-28
---

### 1)가상메모리가 무엇이며, 어떻게 구현되는 기술인지 설명하세요.
가상 메모리는 메모리를 관리하는 또 다른 형태이다. 가상메모리 기법은 작은 메모리 용량으로 큰 프로그램을 실행하게 하는 방법으로 개발되었다. 가상메모리는 각 프로그램에 실제 메모리 주소가 아닌 가상 메모리 주소를 준다 사용자가 메인 메모리 용량을 초과한 프로세스에 주소를 지정해서 메모리를 제한 없이 사용할수 있도록 하는 것이다. 가상 메모리는 운영체제와 하드웨어 간의 협력적인 기술로 구현된다. 가상 메모리가 어떻게 구현되는지에 대한 간단한 개요이다.
1.가상 주소 공간 설정: 프로세스가 사용하는 가상 주소 공간은 일반적으로 32비트 또는 64비트로 표현. 이 가상 주소 공간은 여러 섹션으로 구성되고, 각 섹션은 페이지로 나뉘어진다. 프로세스가 실행되면 운영체제는 해당 프로세스에 대한 가상 주소 공간을 설정한다. 2.페이지 테이블: 페이지 테이블은 운영체제가 관리하며, 각 프로세스마다 별도의 페이지 테이블이 있다. 페이지 테이블에는 가상 페이지 번호와 물리 페이지 번호 간의 매핑 정보가 저장되어 있어 프로세스가 가상 주소를 사용할 때 실제 물리 주소로 변환할 수 있다. 3.페이지 폴트 처리: 프로세스가 실행되면 페이지 폴트가 발생할 수 있다. 페이지 폴트란 프로세스가 요청한 페이지가 현재 물리 메모리에 없는 경우를 의미한다. 이때 운영체제는 페이지 폴트 예외를 처리하여 필요한 페이지를 보조 저장 장치에서 가져와 물리 메모리에 할당한다. 이 과정에서 페이지 교체 알고리즘을 사용하여 물리 메모리의 페이지를 보조 저장 장치로 옮길 수도 있다. 4.페이지 교체: 페이지 교체는 물리 메모리에 여유 공간이 없어 새로운 페이지를 적재하기 위해 기존 페이지를 보조 저장 장치로 옮기는 과정이다. 페이지 교체 알고리즘은 여러 가지 방법으로 구현될 수 있으며, 예를 들어 LRU(Least Recently Used) 알고리즘, FIFO(First-In-First-Out) 알고리즘, 혹은 최적 페이지 교체 알고리즘 등이 사용될 수 있다.
5.페이지 할당: 페이지 할당은 페이지 폴트나 새로운 프로세스 생성 시에 필요한 페이지를 물리 메모리에 할당하는 과정이다. 할당되는 페이지는 페이지 교체 알고리즘 등을 고려하여 결정됩니다. 일반적으로 프로세스의 필요한 페이지 중 일부만 실제 메모리에 할당되고, 나머지는 보조 저장 장치에 유지돤다. 페이지 할당은 페이지 테이블을 업데이트하여 가상 주소와 물리 주소 간의 매핑을 수행합니다.


### 2)스래싱이 무엇인지 설명한 후, 그에 대한 대책인 작업 집합 모델에 대하여 충분히 설명하세요.
스래싱이란 페이지 교환이 계속 일어나는 현상을 이야기 한다. 어떤 프로세스가 프로세스 수행에 보내는 시간보다 페이지 교환에 보내는 시간이 더 길면 ‘스래싱을 하고 있다’고 표현한다. 스래싱은 일반적으로 다음과 같은 상황에서 발생 할 수 있다.
1.메모리 부족 상황: 시스템에 사용 가능한 물리적 메모리가 부족한 경우, 프로세스들이 필요로 하는 페이지들을 모두 실제 메모리에 올리기 어려진다. 2.페이지 부재 빈도 증가: 메모리 부족으로 인해 페이지 폴트가 빈번하게 발생하면, 이로 인해 페이지 교체 작업이 지속적으로 발생하게 된다. 3.과도한 다중 프로그래밍: 시스템에 너무 많은 프로세스 또는 작업이 동시에 실행되어 메모리 부족 상황이 발생하는 경우도 스래싱을 유발할 수 있다. 스래싱이 발생하면 시스템의 성능이 저하되고, 작업 처리량이 급격히 감소한다. CPU 사용률은 높아지지만 실질적인 작업이 수행되지 않는다. 따라서, 스래싱은 원하는 작업을 수행하기보다는 페이지 교체에 시스템 자원이 낭비되는 상황이라고 할 수 있다. 스래싱의을 막는 대책으로는 프로세스가 실제로 얼마큼 프레임을 많이 사용하는지 검사하여 지역 모델(작업 집합 모델)을 정의하는 방법이 있다. 지역 모델은 프로세스를 실행할 때 프로그램은 보통 지역 몇 개로 중첩해서 구성되는데 한 지역 에서 다른 지역으로 이동하는 과정을 의미한다. 작업 집합 모델은 스래싱을 방지하기 위해 메모리를 효율적으로 관리하는 방법이다. 작업 집합의 크기 제한을 통해 과도한 다중 프로그래밍 상황에서의 메모리 부족을 방지하고, 작업 집합의 동적 변경을 통해 메모리 자원을 효율적으로 할당한다. 이를 통해 스래싱을 예방하고 시스템 성능을 향상시킬 수 있다.


### 3)다음 페이지 참조열에서 다음 각 페이지 대치 알고리즘에 페이지 부재가 몇 번 발생하나요? (단페이지 프레임은 4개로 가정하고, 현재 기억장치는 모두 비어 있다고 가정한다) 페이지 참조열 : 0, 6, 5, 1, 4, 5, 0, 5, 3, 6, 5, 5, 2, 3, 2, 3, 5, 2, 2, 6    ㄱ) LRU ㄴ) 선입선출FIFO ㄷ) 최적OPT ㄹ) 시계
ㄱ)![LRU](https://github.com/hyunchan123/hyunchan123.github.io/assets/48408195/3206821b-78bf-4fbe-87e5-01423259afc8)

LRU 페이지 대치 기법은 각 페이지들이 참조될 때마다 그 때의 시간을 기억시켜 두고, 페이지 대치가 필요할 때마다 가장 최근에 사용되지 않은 페이지, 즉 가장 오랫동안 사용되지 않은 페이지를 선택하여 대체 시킨다.

ㄴ)![선입선출](https://github.com/hyunchan123/hyunchan123.github.io/assets/48408195/1299e94f-9796-4af4-9601-8c093ef05569)

FIFO 페이지 대치 기법은 주기억 장치에 적재된 순서대로 가장 먼저 들여 온 페이지를 대치시킨다.

ㄷ)![최적](https://github.com/hyunchan123/hyunchan123.github.io/assets/48408195/9b28eac8-3e5b-457b-a3bc-61efb1d26343)

최적 페이지 대치 기법은 앞으로 사용하지 않을 페이지를 스왑 영역으로 옮긴다. 메모리가 앞으로 사용할 페이지를 미리 살펴보고 페이지 교체 선정 시점부터 사용 시점까지 가장 멀리 있는 페이지를 대상 페이지로 선정한다.
ㄹ)
가장 오랫동안 메인 메모리에 있던 페이지 중 자주 사용하는 페이지의 대치 방지. 선입선출 대치 알고리즘을 기반으로 구현하기에 2차적 기회 대치 알고리즘이라고도 한다.
